{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shama Razak\\\\Documents\\\\Library\\\\pages\\\\listbook.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from 'axios';\nimport Layout from '../components/Layout';\n\nclass Listbook extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      books: []\n    });\n  }\n\n  renderTableHeader() {\n    let header = Object.keys(this.state.books[0]);\n    return header.map((key, index) => {\n      return __jsx(\"th\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 19\n        }\n      }, key.toUpperCase());\n    });\n  }\n\n  renderTableData() {\n    return this.state.books.map((book, index) => {\n      const {\n        book_id,\n        name,\n        author\n      } = book; //destructuring\n\n      return __jsx(\"tr\", {\n        key: book_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 15\n        }\n      }, __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 18\n        }\n      }, book_id), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 18\n        }\n      }, name), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 18\n        }\n      }, author));\n    });\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:3001/api/books').then(res => {\n      console.log(res);\n      this.setState({\n        books: res.data.response\n      });\n    }).catch(err => console.error(err));\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, \"List of all books\"), __jsx(\"table\", {\n      id: \"books\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, __jsx(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 16\n      }\n    }, __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 16\n      }\n    }, this.renderTableHeader()), \"                  \", this.renderTableData())));\n  }\n\n}\n\nexport default Listbook;","map":{"version":3,"sources":["C:/Users/Shama Razak/Documents/Library/pages/listbook.js"],"names":["axios","Layout","Listbook","React","Component","books","renderTableHeader","header","Object","keys","state","map","key","index","toUpperCase","renderTableData","book","book_id","name","author","componentDidMount","get","then","res","console","log","setState","data","response","catch","err","error","render"],"mappings":";;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,MAAMC,QAAN,SAAuBC,KAAK,CAACC,SAA7B,CAAsC;AAAA;AAAA;;AAAA,mCAE5B;AACFC,MAAAA,KAAK,EAAE;AADL,KAF4B;AAAA;;AAMlCC,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAY,KAAKC,KAAL,CAAWL,KAAX,CAAiB,CAAjB,CAAZ,CAAb;AACA,WAAOE,MAAM,CAACI,GAAP,CAAW,CAACC,GAAD,EAAMC,KAAN,KAAgB;AAC/B,aAAO;AAAI,QAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiBD,GAAG,CAACE,WAAJ,EAAjB,CAAP;AACF,KAFM,CAAP;AAGF;;AAEDC,EAAAA,eAAe,GAAG;AACf,WAAO,KAAKL,KAAL,CAAWL,KAAX,CAAiBM,GAAjB,CAAqB,CAACK,IAAD,EAAOH,KAAP,KAAiB;AAC1C,YAAM;AAAEI,QAAAA,OAAF;AAAWC,QAAAA,IAAX;AAAiBC,QAAAA;AAAjB,UAA4BH,IAAlC,CAD0C,CACH;;AACvC,aACG;AAAI,QAAA,GAAG,EAAEC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,OAAL,CADH,EAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKC,IAAL,CAFH,EAGG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKC,MAAL,CAHH,CADH;AAQF,KAVM,CAAP;AAWF;;AAEFC,EAAAA,iBAAiB,GAAE;AACfpB,IAAAA,KAAK,CAACqB,GAAN,CAAU,iCAAV,EAECC,IAFD,CAEMC,GAAG,IAAG;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAKG,QAAL,CAAc;AAACrB,QAAAA,KAAK,EAAEkB,GAAG,CAACI,IAAJ,CAASC;AAAjB,OAAd;AAGH,KAPD,EAQCC,KARD,CAQOC,GAAG,IAAIN,OAAO,CAACO,KAAR,CAAcD,GAAd,CARd;AAUH;;AAEDE,EAAAA,MAAM,GAAE;AACJ,WACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEI;AAAO,MAAA,EAAE,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAK1B,iBAAL,EAAL,CADA,wBACsD,KAAKS,eAAL,EADtD,CADC,CAFJ,CADJ;AAWH;;AApDiC;;AAuDtC,eAAeb,QAAf","sourcesContent":["\r\nimport axios from 'axios'\r\nimport Layout from '../components/Layout'\r\n\r\nclass Listbook extends React.Component{\r\n\r\n    state={\r\n        books: [],\r\n    };\r\n\r\n    renderTableHeader() {\r\n        let header = Object.keys(this.state.books[0])\r\n        return header.map((key, index) => {\r\n           return <th key={index}>{key.toUpperCase()}</th>\r\n        })\r\n     }\r\n\r\n     renderTableData() {\r\n        return this.state.books.map((book, index) => {\r\n           const { book_id, name, author } = book //destructuring\r\n           return (\r\n              <tr key={book_id}>\r\n                 <td>{book_id}</td>\r\n                 <td>{name}</td>\r\n                 <td>{author}</td>\r\n                 \r\n              </tr>\r\n           )\r\n        })\r\n     }\r\n  \r\n    componentDidMount(){\r\n        axios.get('http://localhost:3001/api/books')\r\n        \r\n        .then(res =>{\r\n            console.log(res);\r\n            this.setState({books: res.data.response});\r\n    \r\n\r\n        })\r\n        .catch(err => console.error(err));\r\n       \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Layout>\r\n                <h2>List of all books</h2>\r\n                <table id='books'>\r\n               <tbody>\r\n               <tr>{this.renderTableHeader()}</tr>                  {this.renderTableData()}\r\n               </tbody>\r\n            </table>\r\n           \r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Listbook;"]},"metadata":{},"sourceType":"module"}