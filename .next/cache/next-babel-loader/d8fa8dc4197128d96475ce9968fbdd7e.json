{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shama Razak\\\\Documents\\\\Library\\\\pages\\\\listbook.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from 'axios';\nimport Layout from '../components/Layout';\nimport { useEffect } from 'react';\n\nclass Listbook extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      books: []\n    });\n  }\n\n  /* {\r\n       axios.get('http://localhost:3001/api/books')\r\n       \r\n       .then(res =>{\r\n           console.log(res);\r\n           this.setState({books: res.data.response});\r\n       })\r\n       .catch(err => console.error(err));\r\n      \r\n   }*/\n  render() {\n    useEffect(() => {\n      async function listBook() {\n        await axios('http://localhost:3001/api/books');\n        this.setState({\n          books: res.data.response\n        });\n      }\n\n      loadData();\n    }, []);\n\n    const list = __jsx(\"ol\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 20\n      }\n    }, this.state.books.map(book => __jsx(\"li\", {\n      key: book.book_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 40\n      }\n    }, book.name)));\n\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, \"List of all books\"), list);\n  }\n\n}\n\nexport default Listbook;","map":{"version":3,"sources":["C:/Users/Shama Razak/Documents/Library/pages/listbook.js"],"names":["axios","Layout","useEffect","Listbook","React","Component","books","render","listBook","setState","res","data","response","loadData","list","state","map","book","book_id","name"],"mappings":";;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,SAAR,QAAwB,OAAxB;;AACA,MAAMC,QAAN,SAAuBC,KAAK,CAACC,SAA7B,CAAsC;AAAA;AAAA;;AAAA,mCAE5B;AACFC,MAAAA,KAAK,EAAE;AADL,KAF4B;AAAA;;AAMnC;;;;;;;;;;AAWCC,EAAAA,MAAM,GAAE;AACJL,IAAAA,SAAS,CAAC,MAAM;AACZ,qBAAeM,QAAf,GAAyB;AACrB,cAAMR,KAAK,CAAE,iCAAF,CAAX;AACA,aAAKS,QAAL,CAAc;AAACH,UAAAA,KAAK,EAAEI,GAAG,CAACC,IAAJ,CAASC;AAAjB,SAAd;AACH;;AACDC,MAAAA,QAAQ;AAEX,KAPQ,EAOP,EAPO,CAAT;;AAWA,UAAMC,IAAI,GAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACV,KAAKC,KAAL,CAAWT,KAAX,CAAiBU,GAAjB,CAAsBC,IAAI,IAAI;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBD,IAAI,CAACE,IAA7B,CAA9B,CADU,CAAX;;AAKA,WACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEKL,IAFL,CADJ;AAMH;;AAxCiC;;AA2CtC,eAAeX,QAAf","sourcesContent":["\r\nimport axios from 'axios'\r\nimport Layout from '../components/Layout'\r\nimport {useEffect} from 'react'\r\nclass Listbook extends React.Component{\r\n\r\n    state={\r\n        books: [],\r\n    };\r\n    \r\n   /* {\r\n        axios.get('http://localhost:3001/api/books')\r\n        \r\n        .then(res =>{\r\n            console.log(res);\r\n            this.setState({books: res.data.response});\r\n        })\r\n        .catch(err => console.error(err));\r\n       \r\n    }*/\r\n   \r\n    render(){\r\n        useEffect(() => {\r\n            async function listBook(){\r\n                await axios ('http://localhost:3001/api/books');\r\n                this.setState({books: res.data.response});\r\n            }\r\n            loadData();\r\n    \r\n        },[])\r\n        \r\n        \r\n\r\n        const list=<ol>\r\n        {this.state.books.map((book => <li key={book.book_id}>{book.name}</li>\r\n            ))}\r\n    </ol>\r\n\r\n        return(\r\n            <Layout>\r\n                <h2>List of all books</h2>\r\n                {list}\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Listbook;"]},"metadata":{},"sourceType":"module"}